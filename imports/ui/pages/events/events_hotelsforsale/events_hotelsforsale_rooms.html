<template name="events_hotelsforsale_rooms">
  <div class="modal" id="events-hotel-rooms">
    <div class="modal-content">
      <form id="reserve-rooms" class="row">
        <div class="input-field col s12">
          <input id="room-total-number" type="number" max={{maxRooms}}>
          <label class="always-active" for="room-total-number">Reserve Rooms</label>
        </div>
        <div class="col s12">
          <button class="btn waves-effect waves-light" type="submit" name="action">Reserve
            <i class="material-icons right">send</i>
          </button>
        </div>
			</form>
      <div style="overflow:auto">
        <table id="hotel-room-list">
          <thead>
            <tr>
              <td>Room Number</td>
              <td>Hotel Room Number</td>
              <td>Assigned To</td>
              <td>Space Left</td>
              <td>Actions</td>
            </tr>
          </thead>
          <tbody>
            {{#each room in roomList}}
              <tr>
                <td>{{room.roomNumber}}</td>
                <td>{{room.hotelRoomNumber}}</td>
                <td>
                  {{#each assigned room.assignedTo}}
                    <a href="/events/{{eventId}}/guests/profile/{{_id}}">{{guestFirstName}}</a><br>
                  {{/each}}
                </td>
                <td>{{spaceLeft room}}</td>
                <td>
                  {{#if isAllowed 'unreserve-hotel-room'}}
                    <a class="waves-effect waves-light btn unreserve-button" id="{{room._id}}">Unreserve</a>
                  {{/if}}
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>

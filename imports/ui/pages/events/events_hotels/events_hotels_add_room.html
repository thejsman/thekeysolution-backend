<template name="events_hotels_add_room">
  <div class="events-hotels-add-room">
    <a
      class="waves-effect waves-light btn modal-trigger add-rooms-button"
      href="#add-rooms-modal"
      >Add Room Type
      <i
        class="tooltip-icon"
        data-position="top"
        data-delay="50"
        data-tooltip="Here you can add all the rooms of the hotel's inventory, according to the room types. After adding the full inventory, you can click on the + sign below to specify the number of rooms reserved by you."
      ></i>
    </a>
  </div>
  <div class="row">
    <div class="col s12">
      {{> hotel_details_rooms roomDetails=hotelRoomDetails}}
    </div>
  </div>
  <div id="reserve-rooms-modal">
    {{> events_hotels_rooms currentRoom=selectedRoom}}
  </div>
  <div id="add-rooms-modal" class="modal">
    <div class="modal-content">
      <h4>{{ title }}</h4>
      {{#let room=roomDetails}}
      <form id="add-new-hotel-room">
        <div class="row">
          <div
            class="input-field col s6 tooltipped"
            data-position="top"
            data-delay="50"
            data-tooltip="For ex: Deluxe, Superior, Suite etc"
          >
            <input
              id="hotel_room_category"
              type="text"
              name="hotelRoomCategory"
              value="{{ room.hotelRoomCategory }}"
            />
            <label class="always-active" for="hotel_room_category"
              >Room Category
              <i class="tooltip-icon"></i>
            </label>
          </div>
          <div
            class="input-field col s6 tooltipped"
            data-position="top"
            data-delay="50"
            data-tooltip="Total Number of room type in Hotel"
          >
            <input
              id="hotel_hotelRoomTotal"
              type="text"
              name="hotelRoomTotal"
              value="{{ room.hotelRoomTotal }}"
            />
            <label class="always-active" for="hotel_hotelRoomTotal"
              >Total rooms in hotel
              <i class="tooltip-icon"></i>
            </label>
          </div>
        </div>
        <div class="row">
          <div
            class="input-field col s12 tooltipped"
            data-position="top"
            data-delay="50"
            data-tooltip="For ex: Single, Double"
          >
            <input
              id="hotelRoomBedType"
              type="text"
              name="hotelRoomBedType"
              value="{{ room.hotelRoomBedType }}"
            />
            <label class="always-active" for="hotelRoomBedType"
              >Bed Type
              <i class="tooltip-icon"></i>
            </label>
          </div>
        </div>
        <!-- <div class="row">
            <div class="input-field col s6">
              <input id="hotel_room_total" type="number" name="hotelRoomTotal" value={{room.hotelRoomTotal}}>
              <label class="always-active" for="hotel_room_total">Total Inventory</label>
            </div>
            <div class="input-field col s6 tooltipped" data-position="top" data-delay="50" data-tooltip="Max no. of Guests per room">
              <input id="hotel_room_max_pax" type="number" name="hotelRoomMaxOccupants" value={{room.hotelRoomMaxOccupants}}>
              <label class="always-active" for="hotel_room_max_pax">Max Occupants
                <i class="tooltip-icon"></i>
              </label>
            </div>
          </div> -->
        <div class="row">
          <div class="col s4">
            <!-- <h6>{{#if room.hotelRoomIsSmoking}}  {{/if}}</h6> -->
            <div class="input-field">
              <select
                name="hotelRoomIsSmoking"
                id="hotelRoomIsSmoking"
                value="false"
              >
                <option value="" disabled selected>Smoking/Non-Smoking</option>
                <option value="none" {{room.hotelRoomIsSmoking}}>None</option>
                <option value="true" {{room.hotelRoomIsSmoking}}
                  >Smoking</option
                >
                <option value="false" {{room.hotelRoomIsSmoking}}
                  >Non-Smoking</option
                >
              </select>
            </div>
          </div>
          <div class="col s4">
            <div class="input-field">
              <select name="hotelRoomIsAdjoining" id="hotelRoomIsAdjoining">
                <option value="" disabled selected
                  >Adjoining/Non-Adjoining</option
                >
                <option value="none">None</option>
                <option value="true">Adjoining</option>
                <option value="false">Non-Adjoining</option>
              </select>
            </div>
          </div>
          <div class="col s4">
            <div class="input-field">
              <select
                name="hotelRoomIsConnecting"
                id="hotelRoomIsConnecting"
                vale="{{ room.hotelRoomIsConnecting }}"
              >
                <option value="" disabled selected
                  >Connecting/Non-Connecting</option
                >
                <option value="none">None</option>
                <option value="true">Connecting</option>
                <option value="false">Non-Connecting</option>
              </select>
            </div>
          </div>
        </div>
        <!-- <div class="row">
            <div class="date-field col s6">
              <input id="hotelRoomFrom" type="text" class="datepicker" name="hotelRoomFrom" value="{{room.hotelRoomFrom}}">
              <label for="hotelRoomFrom">Check In</label>
            </div>
            <div class="date-field col s6">
              <input id="hotelRoomTo" type="text" class="datepicker" name="hotelRoomTo" value="{{room.hotelRoomTo}}">
              <label for="hotelRoomTo">Check Out</label>
            </div>
          </div> -->
        <div class="row">
          <div
            class="input-field col s12 tooltipped"
            data-position="top"
            data-delay="50"
            data-tooltip="Add any remarks to do with the inventory of these rooms. (for ex: Early Check-ins required)"
          >
            <input
              id="hotelRoomRemarks"
              type="text"
              name="hotelRoomRemarks"
              value="{{ room.hotelRoomRemarks }}"
            />
            <label class="always-active" for="hotelRoomRemarks"
              >Room Inventory Remarks
              <i class="tooltip-icon"></i>
            </label>
          </div>
        </div>
      </form>
      {{/let}}
    </div>
    <div class="modal-footer">
      <button
        class="btn waves-effect waves-light"
        type="submit"
        name="action"
        form="add-new-hotel-room"
      >
        Submit
        <i class="material-icons right">send</i>
      </button>
    </div>
  </div>
</template>

<template name="hotel_details_rooms">
  <div class="summary-table">
    <table id="hotel-details-rooms">
      <thead>
        <tr>
          <td>#</td>
          <td>Room Category</td>
          <td>Total Rooms</td>
          <td>Bed Type</td>
          <td>Smoking</td>
          <td>Adjoining</td>
          <td>Connecting</td>
          <!-- <td>Max Occupants / Room</td>
          <td>Total Qty.
            <i class="tooltip-icon" data-position="top" data-delay="50" data-tooltip="Total Rooms in the Hotel"></i>
          </td> -->
          <!-- <td style="max-width: 100px;">No. of Rooms Reserved
            <i class="tooltip-icon" data-position="top" data-delay="50" data-tooltip="Rooms reserved for the Guests"></i>
          </td> -->
          <td>
            Room Remarks
            <i
              class="tooltip-icon"
              data-position="top"
              data-delay="50"
              data-tooltip="Click here to reserve your pre-booked inventory"
            ></i>
          </td>
          <td>Actions</td>
        </tr>
      </thead>
      <tbody>
        {{#each room in roomDetails}}
        {{> hotel_rooms_room_details room=room index=@index}}
        {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="hotel_rooms_room_details">
  <tr>
    <th scope="row">{{indexPlusOne index}}</th>
    <td>{{ room.hotelRoomCategory }}</td>
    <td>{{ room.hotelRoomTotal }}</td>
    <td>{{ room.hotelRoomBedType }}</td>
    <td>{{ smokingNew(room.hotelRoomIsSmoking) }}</td>
    <td>{{ adjoining(room.hotelRoomIsAdjoining) }}</td>
    <td>{{ connecting(room.hotelRoomIsConnecting) }}</td>
    <!-- <td>{{room.hotelRoomMaxOccupants}}</td> -->
    <!-- <td>{{room.hotelRoomTotal}}</td> -->
    <!-- <td>{{reservedRooms room.hotelRoomId}}</td> -->
    <td style="max-width: 280px">{{ room.hotelRoomRemarks }}</td>
    <td>
      <a
        class="waves-effect waves-light btn modal-trigger reserve-button"
        href="#events-hotel-rooms"
      >
        <i class="material-icons">add</i>
      </a>
      {{#if isAllowed 'edit-hotels'}}
      <a
        class="waves-effect waves-light btn modal-trigger edit-room-button tooltipped"
        data-position="top"
        data-delay="50"
        data-tooltip="Edit the Room Information"
        href="#add-rooms-modal"
      >
        <i class="material-icons">edit</i>
      </a>
      {{/if}} {{#if isAllowed 'delete-hotels'}}
      <a
        class="waves-effect waves-light btn delete-room-button tooltipped"
        data-position="top"
        data-delay="50"
        data-tooltip="Delete the Room Category"
      >
        <i class="material-icons">delete</i>
      </a>
      {{/if}}
    </td>
  </tr>
</template>

<template name="hotel_room_add_form"> </template>
